(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cf14636"],{"087a":function(t,a,e){},1148:function(t,a,e){"use strict";var i=e("a691"),s=e("1d80");t.exports=function(t){var a=String(s(this)),e="",n=i(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(a+=a))1&n&&(e+=a);return e}},"408a":function(t,a,e){var i=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"44e7":function(t,a,e){var i=e("861d"),s=e("c6b6"),n=e("b622"),o=n("match");t.exports=function(t){var a;return i(t)&&(void 0!==(a=t[o])?!!a:"RegExp"==s(t))}},"5a34":function(t,a,e){var i=e("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"75c2":function(t,a,e){},"88a7":function(t,a,e){"use strict";e("75c2")},"8a79":function(t,a,e){"use strict";var i=e("23e7"),s=e("06cf").f,n=e("50c4"),o=e("5a34"),c=e("1d80"),r=e("ab13"),l=e("c430"),d="".endsWith,p=Math.min,u=r("endsWith"),v=!l&&!u&&!!function(){var t=s(String.prototype,"endsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!v&&!u},{endsWith:function(t){var a=String(c(this));o(t);var e=arguments.length>1?arguments[1]:void 0,i=n(a.length),s=void 0===e?i:p(n(e),i),r=String(t);return d?d.call(a,r,s):a.slice(s-r.length,s)===r}})},"8b26":function(t,a,e){"use strict";e("087a")},"901c":function(t,a,e){},"9b19":function(t,a,e){t.exports=e.p+"img/logo.7cf8aa57.svg"},a767:function(t,a,e){"use strict";e("901c")},a850:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[t.loading?i("div",{staticClass:"loading"},[i("a-spin",[i("a-icon",{style:{"font-size":"90px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):t._e(),!t.loading&&t.isPc?i("div",{staticClass:"invoice-detail-box"},[i("div",{ref:"print",staticClass:"invoice-content",attrs:{id:"printMe"}},[i("img",{staticClass:"ic-title",attrs:{src:e("9b19")}}),i("div",{staticClass:"invoice-info"},[i("div",{staticClass:"info-let"},[i("span",{staticClass:"ticket-id"},[t._v(t._s(t.$t("InvoiceDetail.Invoice"))+"#"+t._s(t.invoiceItem.invoiceid))]),i("span",{staticClass:"content-title-span",staticStyle:{"margin-top":"40px"}},[t._v(t._s(t.$t("InvoiceDetail.Invoice-Date")))]),i("span",{staticClass:"content-span",staticStyle:{"margin-bottom":"40px"}},[t._v(t._s(t.invoiceItem.date))]),i("span",{staticClass:"content-title-span"},[t._v(t._s(t.$t("InvoiceDetail.Payer")))]),i("span",{staticClass:"content-span"},[t._v(t._s(t.payPerson))])]),i("div",{staticClass:"info-let",staticStyle:{"padding-left":"50px"}},[i("div",{staticClass:"invoice-info",staticStyle:{height:"42px","align-items":"center"}},["Paid"===t.invoiceItem.status?i("img",{staticClass:"i-refund",attrs:{src:e("b386")}}):t._e(),"Unpaid"===t.invoiceItem.status?i("img",{staticClass:"i-refund",attrs:{src:e("ff33")}}):t._e(),"Paid"!==t.invoiceItem.status&&"Unpaid"!==t.invoiceItem.status?i("img",{staticClass:"i-refund",attrs:{src:e("db7f")}}):t._e(),i("span",{staticClass:"invoice-refund",class:{"invoice-paid":"Paid"===t.invoiceItem.status,"invoice-unpaid":"Unpaid"===t.invoiceItem.status}},[t._v(" "+t._s("Paid"===t.invoiceItem.status?t.$t("InvoiceDetail.Paid"):"Unpaid"===t.invoiceItem.status?t.$t("InvoiceDetail.Unpaid"):"Refunded"===t.invoiceItem.status?t.$t("InvoiceDetail.Refunded"):t.$t("InvoiceDetail.Cancelled"))+" ")])]),"Unpaid"===t.invoiceItem.status?i("div",{staticClass:"info-let",staticStyle:{width:"100%",margin:"40px 0px"}},[i("span",{staticClass:"content-title-span"},[t._v(t._s(t.$t("InvoiceDetail.Bill-Due-Date")))]),i("span",{staticClass:"content-span"},[t._v(t._s(t.invoiceItem.duedate))])]):t._e(),i("div",{staticClass:"info-let",staticStyle:{width:"100%"}},[i("span",{staticClass:"content-title-span"},[t._v(t._s(t.$t("InvoiceDetail.Beneficiary")))]),i("span",{staticClass:"content-span"},[t._v(t._s(t.invoiceItem.payee))])])]),i("div",{staticStyle:{width:"28%",display:"flex","flex-direction":"column","align-items":"flex-end"}},[i("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center"}},["Unpaid"===t.invoiceItem.status?i("span",{staticClass:"content-span",staticStyle:{"margin-right":"24px","font-size":"20px","font-weight":"500"}},[t._v("$"+t._s(t.invoiceItem.subtotal)+" USD")]):t._e(),"Unpaid"===t.invoiceItem.status?i("a-button",{staticClass:"pay-button",attrs:{loading:t.iconLoading},on:{click:function(a){return t.payInvoice(t.invoiceItem.invoiceid)}}},[t._v(t._s(t.$t("InvoiceDetail.Go-Pay")))]):t._e()],1),i("span",{staticClass:"support-span",on:{click:function(a){return t.openZw()}}},[t._v(t._s(t.$t("InvoiceDetail.Contact-Customer-Service")))])])]),void 0!==t.invoiceItem.items?i("div",{staticClass:"bill-table"},[i("div",{staticClass:"t-header"},[i("span",{staticClass:"left-item span-16"},[t._v(t._s(t.$t("InvoiceDetail.Bill-Item")))]),i("span",{staticClass:"center-item",staticStyle:{color:"#616577"}},[t._v(t._s(t.$t("InvoiceDetail.Valid-Date")))]),i("span",{staticClass:"right-item",staticStyle:{color:"#616577"}},[t._v(t._s(t.$t("InvoiceDetail.Price")))])]),t._l(t.invoiceItem.items.item,(function(a,e){return i("div",{key:e,staticClass:"t-header t-content"},[i("span",{staticClass:"left-item span-16",staticStyle:{color:"#242C45"}},[t._v(t._s(a.description.split(" ")[0]))]),i("span",{staticClass:"center-item span-16",staticStyle:{color:"#242C45"}},[t._v(t._s(a.description.split("(")[1].replace(")","")))]),i("span",{staticClass:"right-item span-16",staticStyle:{color:"#242C45"}},[t._v("$"+t._s(a.amount)+" USD")])])})),i("span",{staticClass:"total"},[i("span",{staticStyle:{color:"#616577","font-size":"14px","margin-right":"16px"}},[t._v(t._s(t.$t("InvoiceDetail.Total")))]),t._v("$"+t._s(t.countBillTotal())+" USD")])],2):t._e(),void 0!==t.invoiceItem.transactions&&void 0!==t.invoiceItem.transactions.transaction?i("div",{staticClass:"trade-table"},[i("div",{staticClass:"table-row"},[i("span",{staticClass:"trade-header-span"},[t._v(t._s(t.$t("InvoiceDetail.Transaction-Id")))]),i("span",{staticClass:"trade-header-span"},[t._v(t._s(t.$t("InvoiceDetail.Transaction-Time")))]),i("span",{staticClass:"trade-header-span"},[t._v(t._s(t.$t("InvoiceDetail.Transaction-Type")))]),i("span",{staticClass:"trade-header-span",staticStyle:{width:"10%"}},[t._v(t._s(t.$t("InvoiceDetail.Transaction-Method")))]),i("span",{staticClass:"trade-header-span",staticStyle:{width:"15%","text-align":"right"}},[t._v(t._s(t.$t("InvoiceDetail.Price2")))])]),t._l(t.invoiceItem.transactions.transaction,(function(a,e){return i("div",{key:e,staticClass:"table-row"},[i("span",{staticClass:"trade-content-span"},[t._v(t._s(a.transid))]),i("span",{staticClass:"trade-content-span"},[t._v(t._s(a.date))]),i("span",{staticClass:"trade-content-span"},[t._v(t._s(0===a.refundid?t.$t("InvoiceDetail.Buy"):t.$t("InvoiceDetail.Refund")))]),i("span",{staticClass:"trade-content-span",staticStyle:{width:"10%"}},[t._v(t._s(t.$t("InvoiceDetail.Alipay")))]),i("span",{staticClass:"trade-content-span",staticStyle:{width:"15%","text-align":"right"}},[t._v(t._s("Invoice Payment"===a.description?"$"+a.amountin:"-$"+a.amountout)+" USD")])])})),i("span",{staticClass:"total",staticStyle:{padding:"0px"}},[i("span",{staticStyle:{color:"#616577","font-size":"14px","margin-right":"16px"}},[t._v(t._s(t.$t("InvoiceDetail.Unpaid-Amount")))]),t._v("$"+t._s(t.countUnpaidAmount())+" USD")])],2):t._e()]),i("div",{directives:[{name:"print",rawName:"v-print",value:t.printObj,expression:"printObj"}],staticClass:"bottom-print",style:{"margin-top":(void 0!==t.invoiceItem.transactions&&void 0!==t.invoiceItem.transactions.transaction?-20:140)+"px"}},[i("span",{staticClass:"print-span"},[t._v(t._s(t.$t("InvoiceDetail.Print")))])])]):t._e(),t.loading||t.isPc?t._e():i("div",{staticClass:"invoice-detail-box-mobile"},[i("img",{staticClass:"ic-title",attrs:{src:e("9b19")}}),i("span",{staticClass:"ticket-id"},[t._v(t._s(t.$t("InvoiceDetail.Invoice2"))+"#"+t._s(t.invoiceItem.invoiceid))]),i("a-divider",{staticStyle:{margin:"0px"}}),i("div",{staticClass:"invoice-info"},["Paid"===t.invoiceItem.status?i("img",{staticClass:"i-refund",attrs:{src:e("b386")}}):t._e(),"Unpaid"===t.invoiceItem.status?i("img",{staticClass:"i-refund",attrs:{src:e("ff33")}}):t._e(),"Paid"!==t.invoiceItem.status&&"Unpaid"!==t.invoiceItem.status?i("img",{staticClass:"i-refund",attrs:{src:e("db7f")}}):t._e(),i("span",{staticClass:"invoice-refund",class:{"invoice-paid":"Paid"===t.invoiceItem.status,"invoice-unpaid":"Unpaid"===t.invoiceItem.status}},[t._v(" "+t._s("Paid"===t.invoiceItem.status?t.$t("InvoiceDetail.Paid2"):"Unpaid"===t.invoiceItem.status?t.$t("InvoiceDetail.Unpaid2"):"Refunded"===t.invoiceItem.status?t.$t("InvoiceDetail.Refunded2"):t.$t("InvoiceDetail.Cancelled2"))+" ")]),"Unpaid"===t.invoiceItem.status?i("span",{staticClass:"content-span"},[t._v("$"+t._s(t.invoiceItem.subtotal)+" USD")]):t._e()]),i("a-divider",{staticStyle:{margin:"0px"}}),"Unpaid"===t.invoiceItem.status?i("a-button",{staticClass:"pay-button",attrs:{loading:t.iconLoading},on:{click:function(a){return t.payInvoice(t.invoiceItem.invoiceid)}}},[t._v(" "+t._s(t.$t("InvoiceDetail.Submit-Payment")))]):t._e(),i("div",{staticClass:"order-row"},[i("div",{staticClass:"order-row-left"},[i("span",{staticClass:"content-title-span"},[t._v(t._s(t.$t("InvoiceDetail.Invoice-Date2")))]),i("span",{staticClass:"content-span"},[t._v(t._s(t.invoiceItem.date))])]),"Unpaid"===t.invoiceItem.status?i("div",{staticClass:"order-row-left order-row-right"},[i("span",{staticClass:"content-title-span"},[t._v(t._s(t.$t("InvoiceDetail.Bill-Due-Date2")))]),i("span",{staticClass:"content-span"},[t._v(t._s(t.invoiceItem.duedate))])]):t._e()]),i("div",{staticClass:"order-row",staticStyle:{"margin-top":"0.853rem"}},[i("div",{staticClass:"order-row-left"},[i("span",{staticClass:"content-title-span"},[t._v(t._s(t.$t("InvoiceDetail.Payer2")))]),i("span",{staticClass:"content-span"},[t._v(t._s(t.payPerson))])]),i("div",{staticClass:"order-row-left order-row-right"},[i("span",{staticClass:"content-title-span"},[t._v(t._s(t.$t("InvoiceDetail.Beneficiary2")))]),i("span",{staticClass:"content-span"},[t._v("auVPN"),i("span",{staticClass:"support-span",on:{click:function(a){return t.openZw()}}},[t._v(t._s(t.$t("InvoiceDetail.Contact-Customer-Service2")))])])])]),void 0!==t.invoiceItem.items?i("div",{staticClass:"bill-table"},[t._l(t.invoiceItem.items.item,(function(a,e){return i("div",{key:e,staticClass:"table-item"},[i("div",{staticClass:"table-row"},[i("span",{staticClass:"row-left"},[t._v(t._s(t.$t("InvoiceDetail.Bill-Item2")))]),i("span",{staticClass:"row-left row-right"},[t._v(t._s(a.description.split(" ")[0]))])]),i("div",{staticClass:"table-row"},[i("span",{staticClass:"row-left"},[t._v(t._s(t.$t("InvoiceDetail.Valid-Date2")))]),i("span",{staticClass:"row-left row-right"},[t._v(t._s(a.description.split("(")[1].replace(")","")))])]),i("div",{staticClass:"table-row"},[i("span",{staticClass:"row-left"},[t._v(t._s(t.$t("InvoiceDetail.Price3")))]),i("span",{staticClass:"row-left row-right"},[t._v("$"+t._s(a.amount)+" USD")])]),i("a-divider",{staticStyle:{margin:"0px"}})],1)})),i("span",{staticClass:"total"},[i("span",{staticStyle:{color:"#616577","font-size":"0.373rem","margin-right":"0.32rem"}},[t._v(t._s(t.$t("InvoiceDetail.Total2")))]),t._v("$"+t._s(t.countBillTotal())+" USD")])],2):t._e(),void 0!==t.invoiceItem.transactions&&void 0!==t.invoiceItem.transactions.transaction?i("div",{staticClass:"bill-table"},[t._l(t.invoiceItem.transactions.transaction,(function(a,e){return i("div",{key:e,staticClass:"table-item"},[i("div",{staticClass:"table-row"},[i("span",{staticClass:"row-left"},[t._v(t._s(t.$t("InvoiceDetail.Transaction-Id2")))]),i("span",{staticClass:"row-left row-right"},[t._v(t._s(a.transid))])]),i("div",{staticClass:"table-row"},[i("span",{staticClass:"row-left"},[t._v(t._s(t.$t("InvoiceDetail.Transaction-Time2")))]),i("span",{staticClass:"row-left row-right"},[t._v(t._s(a.date))])]),i("div",{staticClass:"table-row"},[i("span",{staticClass:"row-left"},[t._v(t._s(t.$t("InvoiceDetail.Transaction-Type2")))]),i("span",{staticClass:"row-left row-right"},[t._v(t._s(0===a.refundid?"購買":"退款"))])]),i("div",{staticClass:"table-row"},[i("span",{staticClass:"row-left"},[t._v(t._s(t.$t("InvoiceDetail.Transaction-Method2")))]),i("span",{staticClass:"row-left row-right"},[t._v(t._s(t.$t("InvoiceDetail.Alipay2")))])]),i("div",{staticClass:"table-row"},[i("span",{staticClass:"row-left"},[t._v(t._s(t.$t("InvoiceDetail.Price4")))]),i("span",{staticClass:"row-left row-right"},[t._v(t._s("Invoice Payment"===a.description?"$"+a.amountin:"-$"+a.amountout)+" USD")])]),i("a-divider",{staticStyle:{margin:"0px"}})],1)})),i("span",{staticClass:"total"},[i("span",{staticStyle:{color:"#616577","font-size":"0.373rem","margin-right":"0.32rem"}},[t._v(t._s(t.$t("InvoiceDetail.Unpaid-Amount2")))]),t._v("$"+t._s(t.countUnpaidAmount())+" USD ")])],2):t._e()],1),t.showPaymentDialog?i("PaymentDialog",{attrs:{dataInfo:t.invoiceItem},on:{closeDialog:t.closeDialog,updateInvoiceInfo:t.updateInvoiceInfo}}):t._e()],1)},s=[],n=(e("8a79"),e("b0c0"),e("159b"),e("a9e3"),e("b680"),e("1c18")),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dialog-container",on:{click:t.closeDialog}},[e("div",{staticClass:"dialog-box",class:{"payment-dialog-box-pc":t.isPc,"payment-dialog-box-mobile":!t.isPc}},[e("div",{staticClass:"card-wrap"},[!t.isLogin&&t.paySuccess?e("div",{staticClass:"common-box no-account-success-box"},[e("i",{staticClass:"success-icon"}),e("span",{staticClass:"success-title"},[t._v(t._s(t.$t("PaymentPage.Pay-Success")))]),e("span",{staticClass:"success-description"},[t._v(t._s(t.$t("PaymentPage.Check-Email")))])]):t._e(),t.isLogin&&t.paySuccess?e("div",{staticClass:"common-box account-success-box"},[e("span",{staticClass:"success-title"},[t._v(t._s(t.$t("PaymentPage.Pay-Service2")))]),e("span",{staticClass:"success-description"},[t._v(t._s(t.$t("PaymentPage.Service-Ready")))]),e("div",{staticClass:"account-info-box"},[e("AccountAddress",{attrs:{userAccount:t.userAccount}}),e("div",{staticClass:"btn-box"},[e("div",{staticClass:"steps-lines"},[e("a-progress",{attrs:{percent:t.percent,"show-info":!1,size:"small"}})],1),e("a-button",{staticClass:"start-btn",class:{"btn-disabled":3!=t.loadSec},attrs:{type:"primary",disabled:3!=t.loadSec},on:{click:function(a){return a.stopPropagation(),t.startNow()}}},[t._v(" "+t._s(t.$t("PaymentPage.Start-Use"))+" ")])],1)],1)]):t._e(),t.paySuccess||"{}"===JSON.stringify(t.invoiceInfo)?t._e():e("div",{staticClass:"common-box paying-box"},[e("div",{staticClass:"paying-invoice-detail-box"},[t.paySuccess?t._e():e("div",{staticClass:"first-row-box"},[e("span",{staticClass:"price-span"},[t._v(t._s(t.invoiceInfo.balance)),e("span",{staticClass:"unit-span"},[t._v("USD")])]),e("span",[t._v(t._s(t.$t("PaymentPage.Bill-No"))+": "+t._s(t.invoiceInfo.invoiceid))])]),t.paySuccess?t._e():e("span",[t._v(t._s(t.$t("PaymentPage.Pay-Date"))+": "+t._s(t.invoiceInfo.duedate))])]),e("div",{staticClass:"payment-box"},[t.paySuccess?t._e():e("div",{staticClass:"switch-pay-method"},[t._m(0),t._e()]),t.paySuccess?t._e():e("div",{staticClass:"pay-status-box"},[t.isPaying?e("div",{staticClass:"pay-sync",attrs:{id:"pay-sync"}},[t.paySuccess||t.payFailed?t._e():e("a-spin",[e("a-icon",{staticStyle:{"font-size":"24px",color:"#3963EF"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1),t.paySuccess&&!t.payFailed?e("a-icon",{attrs:{type:"check-circle",theme:"twoTone",twoToneColor:"#44B496"}}):t._e(),t.payFailed?e("a-icon",{attrs:{type:"close-circle",theme:"twoTone",twoToneColor:"#F2585E"}}):t._e(),e("span",{staticClass:"sync-result"},[t._v(t._s(t.payStatus))])],1):t._e(),!t.payFailed&&t.isPaying||t.paySuccess?e("span",{staticClass:"pay-tips-center"},[t._v(t._s(t.footerText))]):t._e(),t.payFailed&&t.isPaying?e("span",{staticClass:"pay-tips-center"},[t._v(t._s(t.$t("PaymentPage.Pay-Fail"))),e("a",{on:{click:function(a){return a.stopPropagation(),t.openZendesk()}}},[t._v(t._s(t.$t("PaymentPage.Contact-Customer-Service")))])]):t._e(),e("div",{staticClass:"btn-container",attrs:{id:"btn-container"}},[e("a-button",{staticClass:"submit-btn",attrs:{type:"primary",id:"submit-btn",disabled:""===t.payUrl},on:{click:function(a){return a.stopPropagation(),t.payNow()}}},[t._v(" "+t._s(t.isPaying?"":t.invoiceInfo.balance+" USD")+" "+t._s(t.btnTips)+" ")]),t.isPaying||""===t.payUrl?t._e():e("a",{staticClass:"submit-btn",staticStyle:{position:"absolute","background-color":"transparent !important"},attrs:{href:t.payUrl,target:"_blank"},on:{click:function(a){return a.stopPropagation(),t.payNow()}}}),e("a-button",{staticClass:"submit-btn2",attrs:{type:"primary",id:"submit-btn2",ghost:""},on:{click:function(a){return a.stopPropagation(),t.userPaid()}}},[t._v(" "+t._s(t.$t("PaymentPage.Already-Pay"))+" ")])],1)])])])])])])},c=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"left-pay-method"},[e("span",[t._v("支付寶支付")]),e("i",{staticClass:"alipay"})])}],r=(e("99af"),e("cffa")),l=e("9225"),d=e("f466"),p=(e("0c12"),{name:"PaymentDialog",components:{AccountAddress:d["a"]},data:function(){return{userAccount:{},loading:!1,resendTip:!1,secondNum:60,invoiceInfo:{},isAndroid:!1,isIos:!1,isPc:this.$isPc(),isLogged:!1,isLogin:!1,isRenew:!1,btnTips:this.$t("order/pay.Status-1"),payStatus:this.$t("order/pay.Paragraph-1"),paySuccess:!1,payFailed:!1,invoiceId:0,intervalId:"",footerText:this.$t("order/pay.Paragraph-2"),payMethodList:[{id:0,name:"order/place:screen4.Tab1",logo:[{name:"alipay",url:"pay/alipay.svg"}],type:"pkjeub-alipay"}],isSentData:!1,payUrl:"",isPaying:!1,gotTheDetail:!1,userMaxRetry:1,retryCount:0,isUserRetry:!1,selectedMethod:localStorage.getItem("payMethodIndex")?Number(localStorage.getItem("payMethodIndex")):0,selectedOtherMethod:{},showMethodList:!1,startPollingTime:0,oldStatus:"",gtagData:void 0,inApp:"true"===localStorage.getItem(n["j"]),loadSec:0,percent:0}},props:{dataInfo:{}},watch:{dataInfo:{immediate:!0,handler:function(t){if(void 0!==t){this.invoiceId=this.dataInfo.invoiceid,this.checkInvoiceInfo(t);var a=this;this.$request.auPayInvoice(this.invoiceId,(function(t){t&&(200===t.status||201===t.status)&&t.data&&(a.payUrl=t.data.redirectUrl)}))}}}},created:function(){this.isLogin=localStorage.getItem(n["n"])&&localStorage.getItem(n["i"]),this.$route.params.gtagData&&(this.gtagData=this.$route.params.gtagData)},destroyed:function(){window.clearInterval(this.intervalId)},methods:{startNow:function(){window.open("".concat(window.location.origin,"?uuid=").concat(localStorage.getItem(n["n"]),"&hmac=").concat(localStorage.getItem(n["i"])),this.$inApp?"_self":"_blank")},payNow:function(){if(0!=this.invoiceId){var t=this;if(this.isPaying)t.payUrl?window.open(t.payUrl,"_blank"):t.$request.auPayInvoice(t.invoiceId,(function(a){a&&(200===a.status||201===a.status)&&a.data&&(t.payUrl=a.data.redirectUrl,window.open(t.payUrl,"_blank"))})),t.isUserRetry&&(t.payStatus=t.$t("order/pay.Paragraph-1"),t.payFailed=!1,t.isUserRetry=!1,t.retryCount=0,t.startPolling());else if(this.paySuccess)window.open("".concat(window.location.origin,"/my/service"),this.$inApp?"_self":"_blank");else if(0===this.intervalId.length){if(this.gtagData){var a={coupon:this.gtagData.coupon,currency:"USD",value:this.gtagData.value,traffic_type:this.gtagData.traffic_type,items:[{item_id:this.gtagData.items.item_id,item_name:this.gtagData.items.item_name,affiliation:localStorage.getItem(n["e"])?localStorage.getItem(n["e"]):"",promotion_id:0,promotion_name:"none",item_variant:this.gtagData.items.item_variant,price:this.gtagData.value,currency:"USD",coupon:this.gtagData.coupon}]};this.inApp?window.InappWebInterface&&window.InappWebInterface.webEvent("begin_checkout",JSON.stringify(a)):gtag("event","begin_checkout",a)}this.isPaying=!0,r["a"].fromTo(document.getElementById("btn-container"),.3,{marginTop:"0"},{css:{marginTop:t.isPc?"30px":"0.4rem"},onStart:function(){r["a"].fromTo(document.getElementById("submit-btn"),.4,{width:t.isPc?"386px":"7.867rem",left:"0"},{width:t.isPc?"176px":"3.68rem",left:t.isPc?"210px":"4.187rem"}),r["a"].fromTo(document.getElementById("submit-btn2"),.4,{width:t.isPc?"386px":"7.867rem"},{css:{width:t.isPc?"176px":"3.68rem"},onComplete:function(){t.btnTips=t.$t("order/pay.Button-2"),t.invoiceInfo.status!==l["b"].t("Paid")&&(t.payUrl?window.open(t.payUrl,"_blank"):t.$request.auPayInvoice(t.invoiceId,(function(a){a&&(200===a.status||201===a.status)&&a.data&&(t.payUrl=a.data.redirectUrl,window.open(t.payUrl,"_blank"))})))}})}}),r["a"].fromTo(document.getElementById("pay-sync"),.4,{opacity:0},{opacity:1}),this.startPolling()}else this.$notification.open({message:this.$t("order/pay.Fail-4"),onClick:function(){}})}else this.$notification.open({message:this.$t("order/pay.Fail-4"),onClick:function(){}})},userPaid:function(){this.payFailed?this.$notification.open({message:this.$t("order/pay.Fail-1"),onClick:function(){}}):(this.payStatus=this.$t("order/pay.Status-3"),this.getInvoiceDetail(),this.isUserRetry=!0)},getInvoiceDetail:function(){var t=this;this.$request.auGetInvoiceDetail(this.invoiceId,(function(a){a&&(200===a.status||201===a.status)&&a.data?t.checkInvoiceInfo(a.data):t.$notification.open({message:"獲取訂單詳情失敗，請稍後重試",onClick:function(){}})}))},checkInvoiceInfo:function(t){if(this.invoiceInfo.invoiceid=t.invoiceid,this.invoiceInfo.balance=this.isLogin?t.total:t.subtotal,this.invoiceInfo.duedate=t.duedate,this.invoiceInfo.date=t.date,this.invoiceInfo.status=l["b"].t("Paid"===t.status?"order/pay.Status-2":"order/pay.Item-6"),this.invoiceInfo=Object.assign({},this.invoiceInfo,""),""===this.oldStatus&&(this.oldStatus=t.status),"Paid"===t.status){if(this.$emit("updateInvoiceInfo"),"Unpaid"===this.oldStatus){var a=document.createElement("div");a.setAttribute("style","display: none; visibility: hidden"),a.innerHTML='<script  type="application/javascript" src="https://a.exoclick.com/tag_gen.js" data-goal="be98d96266307dc8cbedc8001331a95a"><\/script>',document.body.appendChild(a),this.oldStatus=t.status,this.pushPurchaseEvent(t)}window.clearInterval(this.intervalId),this.userAccount={address:"".concat(window.location.origin,"?uuid=").concat(localStorage.getItem(n["n"]),"&hmac=").concat(localStorage.getItem(n["i"])),isFromPaymentPage:!0},this.isPaying=!1,this.paySuccess=!0;var e=this,i=setInterval((function(){3!==e.loadSec?(e.loadSec++,e.percent+=3===e.loadSec?34:33):window.clearInterval(i)}),1e3);if(window.InappWebInterface){var s={uuid:localStorage.getItem(n["n"]),hmac:localStorage.getItem(n["i"])};window.InappWebInterface.webEvent("account",JSON.stringify(s))}}else this.isUserRetry&&(this.retryCount>this.userMaxRetry&&(window.clearInterval(this.intervalId),this.intervalId="",this.payFailed=!0,this.payStatus=this.$t("order/pay.Fail-1")),this.retryCount++)},pushPurchaseEvent:function(t){var a=[];a.push({item_id:t.pid,item_name:t.name,promotion_id:0,promotion_name:"",coupon:t.coupon,affiliation:localStorage.getItem(n["e"])?localStorage.getItem(n["e"]):"",item_variant:t.cycle,price:this.isLogin?t.total:t.subtotal,currency:"USD"});var e={affiliation:localStorage.getItem(n["e"])?localStorage.getItem(n["e"]):"",coupon:t.coupon,currency:"USD",items:a,transaction_id:t.transid,shipping:0,value:this.isLogin?t.total:t.subtotal,tax:0,traffic_type:"normal"};this.inApp?window.InappWebInterface&&window.InappWebInterface.webEvent("purchase",JSON.stringify(e)):gtag("event","purchase",e),fbq("track","Purchase",{currency:"USD",value:this.isLogin?t.total:t.subtotal}),twq("track","Purchase",{value:this.isLogin?t.total:t.subtotal,currency:"USD",num_items:"1"}),dablena("track","Purchase",{value:this.isLogin?t.total:t.subtotal,currency:"USD"})},startPolling:function(){var t=this;0===t.intervalId.length&&(t.startPollingTime=(new Date).getTime(),t.intervalId=setInterval((function(){(new Date).getTime()-t.startPollingTime>18e4?(window.clearInterval(t.intervalId),t.startPollingTime=(new Date).getTime(),t.intervalId=setInterval((function(){(new Date).getTime()-t.startPollingTime>6e5?(window.clearInterval(t.intervalId),t.intervalId=""):t.getInvoiceDetail()}),8e3)):t.getInvoiceDetail()}),4e3))},openZendesk:function(){window.zE("webWidget","toggle")},closeDialog:function(){this.$emit("closeDialog")}}}),u=p,v=(e("a767"),e("2877")),m=Object(v["a"])(u,o,c,!1,null,null,null),g=m.exports,f={name:"InvoiceDetail",components:{PaymentDialog:g},data:function(){return{isPc:this.$isPc(),printObj:{id:"printMe",popTitle:"auVPN",extraCss:"",extraHead:'<meta http-equiv="Content-Language"content="zh-cn"/>'},invoiceItem:{},loading:!0,intervalId:"",iconLoading:!1,payPerson:localStorage.getItem(n["g"])?localStorage.getItem(n["g"]).endsWith("@auvpn.net")&&localStorage.getItem(n["g"]).length>40?"Anonymous":localStorage.getItem(n["g"]):"Anonymous",oldStatus:"",showPaymentDialog:!1}},mounted:function(){0!=this.$route.params.invoiceId&&this.getInvoiceDetail()},destroyed:function(){window.clearInterval(this.intervalId)},methods:{updateInvoiceInfo:function(){this.getInvoiceDetail()},closeDialog:function(){this.showPaymentDialog=!1},printRow:function(){this.$print(this.$refs.print)},startPolling:function(){var t=this;0===t.intervalId.length&&(t.startPollingTime=(new Date).getTime(),t.intervalId=setInterval((function(){(new Date).getTime()-t.startPollingTime>18e4?window.clearInterval(t.intervalId):t.getInvoiceDetail()}),4e3))},getInvoiceDetail:function(){var t=this;this.$request.auGetInvoiceDetail(this.$route.params.invoiceId,(function(a){t.loading=!1,a&&(200===a.status||201===a.status)&&a.data&&(t.invoiceItem=a.data,0===t.oldStatus.length&&(t.oldStatus=a.data.status),"Paid"===a.data.status&&(t.iconLoading=!1,"Unpaid"===t.oldStatus&&(t.oldStatus=a.data.status,t.pushPurchaseEvent(a)),window.clearInterval(t.intervalId)))}))},pushPurchaseEvent:function(t){var a=[];a.push({item_id:t.data.pid,item_name:t.data.name,promotion_id:0,promotion_name:"",coupon:t.data.coupon,affiliation:localStorage.getItem(n["e"])?localStorage.getItem(n["e"]):"",item_variant:t.data.cycle,price:t.data.total,currency:"USD"}),gtag("event","purchase",{affiliation:localStorage.getItem(n["e"])?localStorage.getItem(n["e"]):"",coupon:t.data.coupon,currency:"USD",items:a,transaction_id:t.data.transid,shipping:0,value:t.data.total,tax:0,traffic_type:"normal"}),fbq("track","Purchase",{currency:"USD",value:t.data.total}),twq("track","Purchase",{value:t.data.total,currency:"USD",num_items:"1"}),dablena("track","Purchase",{value:t.data.total,currency:"USD"}),this.$eventFire.purchase(),t.data.total>=1?this.$eventFire.subscribe():this.$eventFire.startTrial()},payInvoice:function(t){this.showPaymentDialog=!0},countUnpaidAmount:function(){var t=this,a=this.countBillTotal();return this.invoiceItem.transactions.transaction.forEach((function(e){"Refunded"===t.invoiceItem.status&&0!==e.refundid?a=Number(a-Number(e.amountout)):"Paid"===t.invoiceItem.status&&0===e.refundid&&(a=Number(a-Number(e.amountin)))})),Number(a).toFixed(2)},countBillTotal:function(){var t=0;return this.invoiceItem.items.item.forEach((function(a){t=Number(a.amount)+t})),Number(t).toFixed(2)},openZw:function(){window.zE("webWidget","open"),setTimeout((function(){document.getElementsByClassName("zEWidget-webWidget--active")[0].contentWindow.document.getElementsByTagName("footer")[0].getElementsByTagName("button")[0].click()}),1500)}}},h=f,y=(e("8b26"),Object(v["a"])(h,i,s,!1,null,null,null));a["default"]=y.exports},ab13:function(t,a,e){var i=e("b622"),s=i("match");t.exports=function(t){var a=/./;try{"/./"[t](a)}catch(e){try{return a[s]=!1,"/./"[t](a)}catch(i){}}return!1}},b386:function(t,a,e){t.exports=e.p+"img/ic-green-circle.9040805f.svg"},b680:function(t,a,e){"use strict";var i=e("23e7"),s=e("a691"),n=e("408a"),o=e("1148"),c=e("d039"),r=1..toFixed,l=Math.floor,d=function(t,a,e){return 0===a?e:a%2===1?d(t,a-1,e*t):d(t*t,a/2,e)},p=function(t){var a=0,e=t;while(e>=4096)a+=12,e/=4096;while(e>=2)a+=1,e/=2;return a},u=function(t,a,e){var i=-1,s=e;while(++i<6)s+=a*t[i],t[i]=s%1e7,s=l(s/1e7)},v=function(t,a){var e=6,i=0;while(--e>=0)i+=t[e],t[e]=l(i/a),i=i%a*1e7},m=function(t){var a=6,e="";while(--a>=0)if(""!==e||0===a||0!==t[a]){var i=String(t[a]);e=""===e?i:e+o.call("0",7-i.length)+i}return e},g=r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){r.call({})}));i({target:"Number",proto:!0,forced:g},{toFixed:function(t){var a,e,i,c,r=n(this),l=s(t),g=[0,0,0,0,0,0],f="",h="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0&&(f="-",r=-r),r>1e-21)if(a=p(r*d(2,69,1))-69,e=a<0?r*d(2,-a,1):r/d(2,a,1),e*=4503599627370496,a=52-a,a>0){u(g,0,e),i=l;while(i>=7)u(g,1e7,0),i-=7;u(g,d(10,i,1),0),i=a-1;while(i>=23)v(g,1<<23),i-=23;v(g,1<<i),u(g,1,1),v(g,2),h=m(g)}else u(g,0,e),u(g,1<<-a,0),h=m(g)+o.call("0",l);return l>0?(c=h.length,h=f+(c<=l?"0."+o.call("0",l-c)+h:h.slice(0,c-l)+"."+h.slice(c-l))):h=f+h,h}})},db7f:function(t,a,e){t.exports=e.p+"img/ic-blue-circle.9668b509.svg"},f466:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:{"account-address-box":t.isPc,"account-address-box-mobile":!t.isPc}},[t._m(0),t._e(),e("div",{staticClass:"content-left-box"},[0===t.userAddress.length?e("a-button",{staticClass:"btn-create-account",attrs:{type:"primary"},on:{click:function(a){return a.stopPropagation(),t.createAccount.apply(null,arguments)}}},[t._v(t._s(t.$t("AccountAddress.Create-Account")))]):t._e(),t.userAddress.length>0?e("div",{staticStyle:{display:"flex","flex-direction":"column",width:"100%"}},[e("div",{staticStyle:{position:"relative",display:"flex",width:"100%"}},[e("span",{staticClass:"span-address"},[t._v(t._s(t.userAddress))]),e("a-tooltip",{attrs:{placement:"top",trigger:"click",mouseLeaveDelay:1,destroyTooltipOnHide:!0,visible:!t.hideCopyTips}},[e("template",{slot:"title"},[e("span",[t._v(t._s(t.$t("CreateAccount.Copied")))])]),e("span",{staticClass:"copy-tips",on:{click:function(a){return a.stopPropagation(),t.copyAccountInfo.apply(null,arguments)},mouseleave:function(a){t.hideCopyTips=!0}}},[t._v(t._s(t.$t("CreateAccount.Copy-Account-Address")))])],2)],1),e("a-divider",{staticStyle:{"background-color":"#DEE2E8",margin:"0px"}}),e("div",{staticClass:"download-favorite-box"},[e("div",{staticClass:"item-box",on:{click:function(a){return a.stopPropagation(),t.downloadAuAccountInfo.apply(null,arguments)}}},[t.isPc?e("span",{staticClass:"download-span"},[t._v(t._s(t.$t("AccountAddress.Download-Account-Info")))]):t._e(),e("a-tooltip",{attrs:{placement:"top",trigger:"click",mouseLeaveDelay:.5,destroyTooltipOnHide:!0}},[e("template",{slot:"title"},[e("span",[t._v(t._s(t.$t("AccountAddress.Copied")))])]),t.isPc?t._e():e("span",{staticClass:"download-span",on:{click:function(a){return a.stopPropagation(),t.downloadAuAccountInfo()}}},[t._v(t._s(t.$t("AccountAddress.Copy-Account-Info")))])],2)],1),e("a-divider",{staticClass:"divider",attrs:{type:"vertical"}}),t.isPc?e("div",{staticClass:"item-box item-bookmark"},[e("span",{staticClass:"download-span favorite-span",staticStyle:{color:"#3963EF"}},[t._v(t._s(t.$t("AccountAddress.Draw-To-Bookmark")))]),e("a",{staticStyle:{position:"absolute",opacity:"0.1"},attrs:{href:t.userAddress},on:{click:function(a){return a.preventDefault(),t.preventOpenAUAdress.apply(null,arguments)}}},[t._v(t._s(t.$t("AccountAddress.Au-Account")))])]):t._e(),t.isPc?t._e():e("div",{staticClass:"item-box",on:{click:function(a){return a.stopPropagation(),t.addToDeviceDesktop()}}},[e("span",{staticClass:"download-span favorite-span",staticStyle:{color:"#3963EF"}},[t._v(t._s(t.$t("AccountAddress.Add-Mobile-Desktop")))])])],1)],1):t._e()],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"all-tips"},[e("li",{staticClass:"row-tips"},[t._v("auVPN 不使用密碼登入。")]),e("li",{staticClass:"row-tips"},[t._v("登入鏈接為登入唯一途徑，請妥善保存。")]),e("li",{staticClass:"row-tips"},[t._v("可用帳戶郵箱隨時取回登入鏈接。")]),e("li",{staticClass:"row-tips"},[t._v("匿名帳戶沒留郵箱，丟失私密鏈接後無法取回。")])])}],n=(e("8a79"),e("99af"),e("1c18")),o={name:"AccountAddress",data:function(){return{isPc:this.$isPc(),userAddress:"",hideCopyTips:!0,showBottomTips:!this.$route.path.endsWith("order/pay")&&localStorage.getItem(n["n"])&&localStorage.getItem(n["i"])&&localStorage.getItem(n["m"])}},props:{userAccount:{}},watch:{userAccount:{immediate:!0,handler:function(t){void 0!==t&&(this.userAddress=t.address)}}},mounted:function(){!this.$route.path.endsWith("order/pay")&&localStorage.getItem(n["n"])&&localStorage.getItem(n["i"])&&(this.userAddress="https://www.ausvc.link?uuid=".concat(localStorage.getItem(n["n"]),"&hmac=").concat(localStorage.getItem(n["i"])))},methods:{preventOpenAUAdress:function(){},copyAccountInfo:function(){var t=document.createElement("textarea");t.value=this.userAddress,t.readOnly=!0,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.className="textarea",t.style.display="none";var a=this;setTimeout((function(){a.hideCopyTips=!0}),1500),this.hideCopyTips=!1},downloadAuAccountInfo:function(){if(this.isPc){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent("· ".concat(this.$t("AccountAddress.Address-Login-Save"),"\n· ").concat(this.userAddress,"\n")+"· auVPN 不使用密碼登入。\n· 私密鏈接為登入唯一途徑，請妥善保存。\n· 可用帳戶郵箱隨時取回登入鏈接。\n· 匿名帳戶沒留郵箱，丟失登入鏈接後無法取回。")),t.setAttribute("download","auVPN 帳戶登入鏈接（請妥善保存）"),t.style.display="none",t.click()}else{var a=document.createElement("textarea");a.value=this.userAddress,a.readOnly=!0,document.body.appendChild(a),a.select(),document.execCommand("Copy"),a.className="textarea",a.style.display="none"}},addToDeviceDesktop:function(){},createAccount:function(){var t={recaptchaToken:"333333"},a=this;this.$request.auCreatedNewAddress(t,(function(t){t&&(200===t.status||201===t.status)&&t.data&&(localStorage.setItem(n["n"],t.data.uuid),localStorage.setItem(n["i"],t.data.hmac),a.userAddress=t.data.userAddress)}))}}},c=o,r=(e("88a7"),e("2877")),l=Object(r["a"])(c,i,s,!1,null,null,null);a["a"]=l.exports},ff33:function(t,a,e){t.exports=e.p+"img/ic-red-circle.0f19ac96.svg"}}]);
//# sourceMappingURL=chunk-9cf14636.d50f1323.js.map